article(layout="column" flex="90" flex-offset="5" ng-controller="PlayerPageCtrl")
  article(layout="row" layout-align="center")
    img(ng-src="{{ ::episode.image.url }}" alt="{{ episode.title }}" height="400" align="center" ng-click="showNotes = true" ng-hide="showNotes" style="margin-top: 1em;").hover
    
    md-card(ng-show="showNotes" style="width: 80%; overflow: auto; height: 400px;")
      md-card-title
        md-card-title-text
          span(ng-bind="podcast.meta.title" ng-click="showNotes = false").md-headline.hover
          span(ng-bind="episode.title" ng-click="showNotes = false").md-subhead.hover
          span(data-bind="episode.description" style="max-width: 500px").md-body-1        

  article(layout="row" layout-align="center center").no-select
    section(flex="10" flex-offset="5")
      span(ng-bind="sound.currentTime | trackTime")
    section(flex="90").no-select
      span(ng-show="playback.showHoverPosition" ng-style="{ 'left': playback.tooltipLeft, 'top': playback.tooltipTop }").playback-tooltip
        span(ng-bind="playback.hoverTime")
        .playback-backdrop(ng-show="playback.showHoverPosition")
      md-progress-linear(md-mode="determinate" value="{{ (sound.progress * 100) }}" ng-click="playback.goToPosition($event)" ng-mousemove="playback.showPosition($event)" ng-mouseleave="playback.showHoverPosition = false;" style="height: 8px;").hover.no-select
    section(flex="10" flex-offset="5")
      span(ng-bind="sound.remaining | trackTime")

  article(layout="row" layout-align="center").no-select
    section(flex="20" flex-offset="15")
      span(ng-click="playback.lastEpisode()").hover
        md-icon(md-icon-library="material-icons") skip_previous
        md-tooltip(md-direction="bottom") Back to previous episode
    section(flex="20")
      span(ng-click="playback.replay10Seconds()").hover
        md-icon(md-icon-library="material-icons") replay_10
        md-tooltip(md-direction="bottom") Rewind 10 seconds
    section(flex="20")
      span(ng-click="playback.playPodcast()" ng-hide="playback.currentlyPlaying").hover
        md-icon(md-icon-library="material-icons") play_arrow
        md-tooltip(md-direction="bottom") Play
      span(ng-click="playback.pausePodcast()" ng-show="playback.currentlyPlaying").hover
        md-icon(md-icon-library="material-icons") pause
        md-tooltip(md-direction="bottom") Pause
    section(flex="20")
      span(ng-click="playback.forward30Seconds()").hover
        md-icon(md-icon-library="material-icons") forward_30
        md-tooltip(md-direction="bottom") Skip 30 seconds
    section(flex="20")
      span(ng-click="playback.nextEpisode()").hover
        md-icon(md-icon-library="material-icons") skip_next
        md-tooltip(md-direction="bottom") Skip to next episode
        
  article(layout="row" layout-align="center")
    section(flex="22")
      md-button(style="width: 150px;" aria-label="Smart Speed" ng-click="playback.smartSpeed = !playback.smartSpeed" ng-class="{ 'md-primary md-raised': playback.smartSpeed }").no-select
        span Smart Speed: 
        span(ng-show="playback.smartSpeed") On
        span(ng-hide="playback.smartSpeed") Off
    section(flex="45")
      md-slider-container
        span.no-select
          md-icon(md-icon-library="material-icons" ng-show="playback.volume > 70") volume_up
          md-icon(md-icon-library="material-icons" ng-show="playback.volume >= 30 && playback.volume <= 70") volume_down
          md-icon(md-icon-library="material-icons" ng-show="playback.volume > 0 && playback.volume < 30") volume_mute
          md-icon(md-icon-library="material-icons" ng-show="playback.volume == 0") volume_off
        md-slider(ng-model="playback.volume" min="0" max="100" aria-label="Volume" md-range).md-primary
    section(flex="30")
      md-button(style="width: 150px;" aria-label="Voice Boost" ng-click="playback.voiceBoost = !playback.voiceBoost" ng-class="{ 'md-primary md-raised': playback.voiceBoost }").no-select
        span Voice Boost: 
        span(ng-show="playback.voiceBoost") On
        span(ng-hide="playback.voiceBoost") Off
